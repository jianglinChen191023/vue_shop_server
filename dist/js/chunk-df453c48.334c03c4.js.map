{"version":3,"sources":["webpack:///./src/network/request.js","webpack:///./src/views/goods/List.vue?6e71","webpack:///./src/network/list.js","webpack:///src/views/goods/List.vue","webpack:///./src/views/goods/List.vue?edb5","webpack:///./src/views/goods/List.vue"],"names":["request","config","instance","axios","create","baseURL","timeout","interceptors","use","NProgress","start","headers","authorization","store","getters","token","err","response","res","done","data","render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","staticClass","on","getGoodsList","model","value","queryInfo","callback","$$v","$set","expression","slot","goAddPage","goodsList","scopedSlots","_u","key","fn","scope","_s","_f","row","add_time","$event","goUpdatePage","goods_id","deleteGoodsById","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","addDialogVisible","staticRenderFns","url","params","id","method","name","query","created","methods","meta","status","newSize","newPage","$confirm","confirmButtonText","cancelButtonText","type","message","$router","push","component"],"mappings":"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","file":"js/chunk-df453c48.334c03c4.js","sourcesContent":["import axios from 'axios'\nimport store from '../store'\n\n// 导入 NProgress 包对应的 JS 和 CSS\nimport NProgress from 'nprogress'\n// 移动到 main-dev.js 中\n// import 'nprogress/nprogress.css'\n\n// 三次优化\nexport function request (config) {\n  // 1. 创建 axios 的实例\n  const instance = axios.create({\n    baseURL: 'https://lianghj.top:8888/api/private/v1',\n    timeout: 5000\n  })\n\n  // 2. axios 的拦截器\n  // 配置请求和响应拦截\n  instance.interceptors.request.use(config => {\n    // 显示进度条\n    NProgress.start()\n\n    // 1. 比如 config 中一些信息不符合服务器的要求\n    // 2. 比如每次发送网络请求时, 都希望在界面中显示一个请求的图标\n    // console.log('来到了 request 拦截 success 中')\n    // 添加请求头的 token 信息\n    config.headers.authorization = store.getters.token\n    return config\n  }, err => {\n    // console.log('来到了 request 拦截 failure 中')\n  })\n\n  // 响应拦截\n  instance.interceptors.response.use(res => {\n    // 隐藏进度条\n    NProgress.done()\n\n    // console.log('来到了 response 拦截 success 中')\n    return res.data\n  }, err => {\n    // console.log('来到了 response 拦截 failure 中')\n  })\n\n  // 3. 发送真正的网络请求\n  return instance(config)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品列表\")])],1),_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.getGoodsList},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getGoodsList},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.goAddPage}},[_vm._v(\"添加商品\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.goodsList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"goods_name\",\"label\":\"商品名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_price\",\"label\":\"商品价格(元)\",\"width\":\"100px\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_weight\",\"label\":\"商品重量\",\"width\":\"80px\"}}),_c('el-table-column',{attrs:{\"prop\":\"add_time\",\"label\":\"创建时间\",\"width\":\"160px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"dateFormat\")(scope.row.add_time))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"130px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.goUpdatePage(scope.row.goods_id)}}}),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteGoodsById(scope.row.goods_id)}}})]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[5, 10, 15, 20],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total,\"background\":\"\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加商品\",\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event}}},[_c('span',[_vm._v(\"这是一段信息\")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from './request'\n\n// 获取商品分类列表数据\nexport function getGoodsList (queryInfo) {\n  return request({\n    url: '/goods',\n    params: queryInfo\n  })\n}\n\n// 根据 Id 删除商品\nexport function deleteGoodsById (id) {\n  return request({\n    url: `/goods/${id}`,\n    method: 'delete'\n  })\n}\n","<template>\n  <div>\n    <!-- 面包屑导航区域 -->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n      <el-breadcrumb-item>商品列表</el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <!-- 卡片视图区域 -->\n    <el-card>\n      <el-row :gutter=\"20\">\n        <el-col :span=\"8\">\n          <el-input v-model=\"queryInfo.query\" placeholder=\"请输入内容\" class=\"input-with-select\" clearable\n                    @clear=\"getGoodsList\">\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getGoodsList\"></el-button>\n          </el-input>\n        </el-col>\n        <el-col :span=\"4\">\n          <el-button type=\"primary\" @click=\"goAddPage\">添加商品</el-button>\n        </el-col>\n      </el-row>\n\n      <!-- table 表格区域 -->\n      <el-table :data=\"goodsList\" border stripe>\n        <el-table-column prop=\"goods_name\" label=\"商品名称\"></el-table-column>\n        <el-table-column prop=\"goods_price\" label=\"商品价格(元)\" width=\"100px\"></el-table-column>\n        <el-table-column prop=\"goods_weight\" label=\"商品重量\" width=\"80px\"></el-table-column>\n        <el-table-column prop=\"add_time\" label=\"创建时间\" width=\"160px\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.add_time | dateFormat }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"130px\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-edit\" @click=\"goUpdatePage(scope.row.goods_id)\"></el-button>\n            <el-button size=\"mini\" type=\"danger\" icon=\"el-icon-delete\"\n                       @click=\"deleteGoodsById(scope.row.goods_id)\"></el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 分页区域 -->\n      <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"queryInfo.pagenum\"\n          :page-sizes=\"[5, 10, 15, 20]\"\n          :page-size=\"queryInfo.pagesize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\" background>\n      </el-pagination>\n    </el-card>\n\n    <!-- 添加对话框 -->\n    <el-dialog\n        title=\"添加商品\"\n        :visible.sync=\"addDialogVisible\"\n        width=\"50%\">\n      <span>这是一段信息</span>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addDialogVisible = false\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { getGoodsList, deleteGoodsById } from 'network/list'\n\nexport default {\n  name: 'List',\n  data () {\n    return {\n      queryInfo: {\n        query: '',\n        pagenum: 1,\n        pagesize: 10\n      },\n      // 商品列表\n      goodsList: [],\n      // 总数据条数\n      total: 0\n    }\n  },\n  created () {\n    this.getGoodsList()\n  },\n  methods: {\n    // 根据分页获取对应的商品列表\n    getGoodsList () {\n      console.log(2)\n      getGoodsList(this.queryInfo).then(res => {\n        if (res.meta.status !== 200) {\n          this.$message.error('获取商品列表失败!')\n        }\n\n        this.goodsList = res.data.goods\n        this.total = res.data.total\n        this.$message.success('获取商品列表成功!')\n      })\n    },\n    handleSizeChange (newSize) {\n      this.queryInfo.pagesize = newSize\n      this.getGoodsList()\n    },\n    handleCurrentChange (newPage) {\n      this.queryInfo.pagenum = newPage\n      this.getGoodsList()\n    },\n    deleteGoodsById (id) {\n      this.$confirm('此操作将永久删除该商品, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        deleteGoodsById(id).then(res => {\n          if (res.meta.status !== 200) {\n            return this.$message.error('删除失败!')\n          }\n\n          this.$message.success('删除成功!')\n          this.getGoodsList()\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        })\n      })\n    },\n    goAddPage () {\n      this.$router.push('/goods/add')\n    },\n    goUpdatePage (id) {\n      // 1. 检查传递的参数\n      // console.log(id)\n      // 2. 携带参数跳转页面\n      this.$router.push({\n        path: '/goods/update',\n        query: {\n          id\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=797cc01c&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"797cc01c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}