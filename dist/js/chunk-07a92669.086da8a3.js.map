{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.test.js","webpack:///./src/views/user/Users.vue?b28a","webpack:///./src/network/users.js","webpack:///src/views/user/Users.vue","webpack:///./src/views/user/Users.vue?ed34","webpack:///./src/views/user/Users.vue","webpack:///./node_modules/core-js/internals/regexp-unsupported-ncg.js","webpack:///./src/network/request.js","webpack:///./node_modules/core-js/internals/regexp-exec.js","webpack:///./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack:///./node_modules/core-js/modules/es.regexp.exec.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/core-js/internals/regexp-unsupported-dot-all.js"],"names":["$","global","call","uncurryThis","isCallable","isObject","DELEGATES_TO_EXEC","execCalled","re","exec","apply","this","arguments","test","Error","un$Test","target","proto","forced","str","result","render","_vm","_h","$createElement","_c","_self","attrs","path","_v","staticClass","on","getUsers2","model","value","queryInfo","callback","$$v","$set","expression","slot","$event","isShowAdd","users","scopedSlots","_u","key","fn","scope","userStateChange","row","showEditDialog","id","deleteUserById","showSetRoleDialog","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","addDialogClose","ref","addForm","addFormRules","addUser","editDialogVisible","editDialogClose","editForm","editFormRules","editUserInfo","setRoleDialogVisible","setRoleHandleClose","_s","userInfo","username","role_name","selectedRoleId","_l","item","roleName","updateRole","staticRenderFns","getUsers","request","url","params","updateState","uId","type","method","saveUser","data","getUserById","updateUserInfo","email","mobile","deleteUserInfoById","getAllRole","updateRoleByUserId","userId","rid","name","regEmail","cb","regMobile","query","password","roleList","created","methods","then","newSize","newPageNum","mg_state","res","meta","status","$refs","addFormRef","resetFields","validate","valid","editFormRef","$confirm","confirmButtonText","cancelButtonText","message","$message","error","component","fails","$RegExp","RegExp","module","exports","groups","a","replace","config","instance","axios","create","baseURL","timeout","interceptors","use","NProgress","start","headers","authorization","store","getters","token","err","response","done","toString","regexpFlags","stickyHelpers","shared","getInternalState","get","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","nativeReplace","String","prototype","nativeExec","patchedExec","charAt","indexOf","stringSlice","slice","UPDATES_LAST_INDEX_WRONG","re1","re2","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","undefined","PATCH","string","reCopy","match","i","object","group","state","raw","sticky","flags","source","charsAdded","strCopy","multiline","input","index","length","anObject","that","ignoreCase","dotAll","unicode"],"mappings":"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","file":"js/chunk-07a92669.086da8a3.js","sourcesContent":["'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar DELEGATES_TO_EXEC = function () {\n  var execCalled = false;\n  var re = /[ac]/;\n  re.exec = function () {\n    execCalled = true;\n    return /./.exec.apply(this, arguments);\n  };\n  return re.test('abc') === true && execCalled;\n}();\n\nvar Error = global.Error;\nvar un$Test = uncurryThis(/./.test);\n\n// `RegExp.prototype.test` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.test\n$({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {\n  test: function (str) {\n    var exec = this.exec;\n    if (!isCallable(exec)) return un$Test(this, str);\n    var result = call(exec, this, str);\n    if (result !== null && !isObject(result)) {\n      throw new Error('RegExp exec method returned something other than an Object or null');\n    }\n    return !!result;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"用户管理\")]),_c('el-breadcrumb-item',[_vm._v(\"用户列表\")])],1),_c('el-card',{staticClass:\"box-card\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.getUsers2},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getUsers2},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.isShowAdd = true}}},[_vm._v(\"添加用户\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.users,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"姓名\",\"prop\":\"username\"}}),_c('el-table-column',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}}),_c('el-table-column',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}}),_c('el-table-column',{attrs:{\"label\":\"角色\",\"prop\":\"role_name\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{on:{\"change\":function($event){return _vm.userStateChange(scope.row)}},model:{value:(scope.row.mg_state),callback:function ($$v) {_vm.$set(scope.row, \"mg_state\", $$v)},expression:\"scope.row.mg_state\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.id)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteUserById(scope.row.id)}}}),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"分配角色\",\"placement\":\"top-start\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showSetRoleDialog(scope.row)}}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[1, 5, 10],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.isShowAdd,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.isShowAdd=$event},\"close\":_vm.addDialogClose}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{model:{value:(_vm.addForm.password),callback:function ($$v) {_vm.$set(_vm.addForm, \"password\", $$v)},expression:\"addForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.addForm.email),callback:function ($$v) {_vm.$set(_vm.addForm, \"email\", $$v)},expression:\"addForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.addForm.mobile),callback:function ($$v) {_vm.$set(_vm.addForm, \"mobile\", $$v)},expression:\"addForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.isShowAdd = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClose}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.editFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.username),callback:function ($$v) {_vm.$set(_vm.editForm, \"username\", $$v)},expression:\"editForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.editForm.email),callback:function ($$v) {_vm.$set(_vm.editForm, \"email\", $$v)},expression:\"editForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.editForm.mobile),callback:function ($$v) {_vm.$set(_vm.editForm, \"mobile\", $$v)},expression:\"editForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editUserInfo}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"分配角色\",\"visible\":_vm.setRoleDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.setRoleDialogVisible=$event},\"close\":_vm.setRoleHandleClose}},[_c('div',[_c('p',[_vm._v(\"当前的用户: \"+_vm._s(_vm.userInfo.username))]),_c('p',[_vm._v(\"当前的角色: \"+_vm._s(_vm.userInfo.role_name))]),_c('p',[_vm._v(\"分配新角色: \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.selectedRoleId),callback:function ($$v) {_vm.selectedRoleId=$$v},expression:\"selectedRoleId\"}},_vm._l((_vm.roleList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.roleName,\"value\":item.id}})}),1)],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRoleDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateRole}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from './request'\n\nexport function getUsers (queryInfo) {\n  return request({\n    url: '/users',\n    params: queryInfo\n  })\n}\n\nexport function updateState (uId, type) {\n  return request({\n    url: `/users/${uId}/state/${type}`,\n    method: 'put'\n  })\n}\n\nexport function saveUser (addForm) {\n  return request({\n    url: '/users',\n    method: 'post',\n    data: addForm\n  })\n}\n\nexport function getUserById (id) {\n  return request({\n    url: `/users/${id}`\n  })\n}\n\nexport function updateUserInfo (id, email, mobile) {\n  return request({\n    url: `/users/${id}`,\n    method: 'put',\n    data: {\n      email,\n      mobile\n    }\n  })\n}\n\n// 删除单个用户\nexport function deleteUserInfoById (id) {\n  return request({\n    url: `/users/${id}`,\n    method: 'delete'\n  })\n}\n\n// 获取所有角色\nexport function getAllRole () {\n  return request({\n    url: '/roles'\n  })\n}\n\n// 修改用户的角色\nexport function updateRoleByUserId (userId, rid) {\n  return request({\n    url: `/users/${userId}/role`,\n    method: 'put',\n    data: {\n      rid\n    }\n  })\n}\n","<template>\n  <div>\n    <!-- 面包屑导航区域 -->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\n      <el-breadcrumb-item>用户列表</el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <!-- 卡片视图区域 -->\n    <el-card class=\"box-card\">\n      <!-- 搜索框与按钮 -->\n      <el-row :gutter=\"20\">\n        <el-col :span=\"8\">\n          <!-- 搜索框 -->\n          <el-input placeholder=\"请输入内容\" v-model=\"queryInfo.query\" clearable @clear=\"getUsers2\">\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getUsers2\"></el-button>\n          </el-input>\n        </el-col>\n        <!-- 按钮 -->\n        <el-col :span=\"4\">\n          <el-button type=\"primary\" @click=\"isShowAdd = true\">添加用户</el-button>\n        </el-col>\n      </el-row>\n\n      <!-- 用户列表区域 -->\n      <el-table :data=\"users\" border stripe>\n        <el-table-column type=\"index\"></el-table-column>\n        <el-table-column label=\"姓名\" prop=\"username\"></el-table-column>\n        <el-table-column label=\"邮箱\" prop=\"email\"></el-table-column>\n        <el-table-column label=\"电话\" prop=\"mobile\"></el-table-column>\n        <el-table-column label=\"角色\" prop=\"role_name\"></el-table-column>\n        <el-table-column label=\"状态\">\n          <template slot-scope=\"scope\">\n            <el-switch v-model=\"scope.row.mg_state\" @change=\"userStateChange(scope.row)\"></el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"180px\">\n          <template slot-scope=\"scope\">\n            <!-- 修改按钮 -->\n            <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"showEditDialog(scope.row.id)\"></el-button>\n            <!-- 删除按钮 -->\n            <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\"\n                       @click=\"deleteUserById(scope.row.id)\"></el-button>\n            <!-- 分配角色按钮 -->\n            <el-tooltip effect=\"dark\" content=\"分配角色\" placement=\"top-start\" :enterable=\"false\">\n              <el-button type=\"warning\" icon=\"el-icon-setting\" size=\"mini\"\n                         @click=\"showSetRoleDialog(scope.row)\"></el-button>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 分页区域 -->\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"queryInfo.pagenum\"\n        :page-sizes=\"[1, 5, 10]\"\n        :page-size=\"queryInfo.pagesize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\">\n      </el-pagination>\n    </el-card>\n\n    <!-- 添加用户的对话框 -->\n    <el-dialog\n      title=\"添加用户\"\n      :visible.sync=\"isShowAdd\"\n      width=\"50%\"\n      @close=\"addDialogClose\">\n      <!-- 内容主体区域 -->\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"70px\">\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"addForm.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input v-model=\"addForm.password\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"addForm.email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"手机号\" prop=\"mobile\">\n          <el-input v-model=\"addForm.mobile\"></el-input>\n        </el-form-item>\n      </el-form>\n      <!-- 底部区域 -->\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"isShowAdd = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\n      </span>\n    </el-dialog>\n\n    <!--  修改用户的对话框 -->\n    <el-dialog\n      title=\"修改用户\"\n      :visible.sync=\"editDialogVisible\"\n      width=\"50%\"\n      @close=\"editDialogClose\">\n      <el-form :model=\"editForm\" ref=\"editFormRef\"\n               :rules=\"editFormRules\" label-width=\"70px\">\n        <el-form-item label=\"用户名\">\n          <el-input v-model=\"editForm.username\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"editForm.email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"手机号\" prop=\"mobile\">\n          <el-input v-model=\"editForm.mobile\"></el-input>\n        </el-form-item>\n      </el-form>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"editUserInfo\">确 定</el-button>\n      </span>\n    </el-dialog>\n\n    <!-- 分配角色对话框 -->\n    <el-dialog\n      title=\"分配角色\"\n      :visible.sync=\"setRoleDialogVisible\"\n      width=\"50%\"\n      @close=\"setRoleHandleClose\">\n      <div>\n        <p>当前的用户: {{ userInfo.username }}</p>\n        <p>当前的角色: {{ userInfo.role_name }}</p>\n        <p>分配新角色:\n          <el-select v-model=\"selectedRoleId\" placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in roleList\"\n              :key=\"item.id\"\n              :label=\"item.roleName\"\n              :value=\"item.id\">\n            </el-option>\n          </el-select>\n        </p>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"setRoleDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"updateRole\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  getUsers,\n  updateState,\n  saveUser,\n  getUserById,\n  updateUserInfo,\n  deleteUserInfoById,\n  getAllRole,\n  updateRoleByUserId\n} from 'network/users'\n\nexport default {\n  name: 'Users',\n  data () {\n    // 验证邮箱的规则\n    const checkEmail = (rule, value, cb) => {\n      // 验证邮箱的正则表达式\n      const regEmail = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\\.[a-zA-Z0-9_-])+/\n\n      if (regEmail.test(value)) {\n        // 合法的邮箱\n        return cb()\n      }\n\n      cb(new Error('请输入合法的邮箱'))\n    }\n\n    // 验证手机号的规则\n    const checkMobile = (rule, value, cb) => {\n      // 验证手机号的正则表达式\n      const regMobile = /^(0|86|17951)?(13[0-9]|15[0123456789]|17[678]|18[0-9]|14[57])[0-9]{8}$/\n\n      if (regMobile.test(value)) {\n        // 合法的手机号\n        return cb()\n      }\n\n      cb(new Error('请输入合法的手机号'))\n    }\n\n    return {\n      users: [],\n      // 获取用户列表的参数对象\n      queryInfo: {\n        query: '',\n        // 当前页数\n        pagenum: 1,\n        // 当前每页显示多少条数据\n        pagesize: 1\n      },\n      total: 0,\n      // 控制添加对话框的显示与隐藏\n      isShowAdd: false,\n      // 添加用户的表单数据\n      addForm: {\n        username: '',\n        password: '',\n        email: '',\n        mobile: ''\n      },\n      // 添加表单的用户规则对象\n      addFormRules: {\n        username: [\n          {\n            required: true,\n            message: '请输入用户名',\n            // 触发事件\n            trigger: 'blur'\n          },\n          {\n            min: 3,\n            max: 10,\n            message: '用户名的长度在 3-10 个字符之间',\n            trigger: 'blur'\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: '请输入密码',\n            trigger: 'blur'\n          },\n          {\n            min: 6,\n            max: 15,\n            message: '用户名的长度在 6-15 个字符之间',\n            trigger: 'blur'\n          }\n        ],\n        email: [\n          {\n            required: true,\n            message: '请输入邮箱',\n            trigger: 'blur'\n          },\n          {\n            validator: checkEmail,\n            trigger: 'blur'\n          }\n        ],\n        mobile: [\n          {\n            required: true,\n            message: '请输入手机号',\n            trigger: 'blur'\n          },\n          {\n            validator: checkMobile,\n            trigger: 'blur'\n          }\n        ]\n      },\n      // 控制修改用户对话框的显示与隐藏\n      editDialogVisible: false,\n      // 查询到的用户信息对象\n      editForm: {},\n      // 修改表单的验证规则对象\n      editFormRules: {\n        email: [\n          {\n            required: true,\n            message: '请输入用户邮箱',\n            trigger: 'blur'\n          },\n          {\n            validator: checkEmail,\n            trigger: 'blur'\n          }\n        ],\n        mobile: [\n          {\n            required: true,\n            message: '请输入用户手机号',\n            trigger: 'blur'\n          },\n          {\n            validator: checkMobile,\n            trigger: 'blur'\n          }\n        ]\n      },\n      /* 分配角色 */\n      // 控制分配角色对话框的显示与隐藏\n      setRoleDialogVisible: false,\n      // 需要被分配角色的用户信息\n      userInfo: {},\n      // 所有角色\n      roleList: {},\n      // 已选中的角色 Id 值\n      selectedRoleId: ''\n    }\n  },\n  created () {\n    this.getUsers2()\n  },\n  methods: {\n    // 获取用户数据\n    getUsers2 () {\n      getUsers(this.queryInfo).then(res => {\n        this.users = res.data.users\n        this.total = res.data.total\n      })\n    },\n    // 监听 pagesize 改变的事件\n    handleSizeChange (newSize) {\n      this.queryInfo.pagesize = newSize\n      this.getUsers2()\n    },\n    // 监听 页码值 改变的事件\n    handleCurrentChange (newPageNum) {\n      this.queryInfo.pagenum = newPageNum\n      this.getUsers2()\n    },\n    // 监听 Switch 状态的改变\n    userStateChange (row) {\n      updateState(row.id, row.mg_state).then(res => {\n        if (res.meta.status !== 200) {\n          row.mg_state = !row.mg_state\n          this.$message.error('更新用户状态失败')\n        }\n      })\n    },\n    // 监听添加对话框的关闭事件\n    addDialogClose () {\n      this.$refs.addFormRef.resetFields()\n    },\n    // 点击按钮, 添加新用户\n    addUser () {\n      this.$refs.addFormRef.validate(valid => {\n        if (!valid) return\n        // 可以发起添加用户的请求\n        saveUser(this.addForm)\n          .then(res => {\n            console.log(res.meta.status)\n            if (res.meta.status !== 201) {\n              this.$message.error('添加用户失败')\n              return false\n            }\n            this.$message.success('添加用户成功')\n            // 隐藏添加用户框\n            this.isShowAdd = false\n            // 重新获取用户列表数据\n            this.getUsers2()\n          })\n          .catch(err => {\n            this.$message.error('请求失败: ' + err)\n          })\n      })\n    },\n    // 展现编辑用户的对话框\n    showEditDialog (id) {\n      getUserById(id)\n        .then(res => {\n          if (res.meta.status !== 200) {\n            return this.$message.error('查询用户信息失败!')\n          }\n\n          this.editForm = res.data\n          this.editDialogVisible = true\n        })\n    },\n    // 监听修改用户对话框的关闭事件\n    editDialogClose () {\n      this.$refs.editFormRef.resetFields()\n    },\n    // 修改用户信息并提交\n    editUserInfo () {\n      this.$refs.editFormRef.validate(valid => {\n        if (!valid) return\n        // 发起修改用户信息的请求\n        updateUserInfo(this.editForm.id, this.editForm.email, this.editForm.mobile)\n          .then(res => {\n            if (res.meta.status !== 200) {\n              return this.$message.error('更新用户信息失败!')\n            }\n\n            // 隐藏对话框\n            this.editDialogVisible = false\n            // 刷新数据\n            this.getUsers2()\n            // 提示更新成功\n            this.$message.success('更新用户信息成功!')\n          })\n      })\n    },\n    // 根据 id 删除用户\n    deleteUserById (id) {\n      // 弹框询问用户是否删除数据\n      this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        deleteUserInfoById(id).then(res => {\n          if (res.meta.status !== 200) {\n            return this.$message.error('删除用户失败!')\n          }\n\n          this.$message.success('删除用户成功!')\n          // 刷新数据\n          this.getUsers2()\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        })\n      })\n    },\n    /* 分配权限 */\n    // 显示分配角色对话框\n    showSetRoleDialog (userInfo) {\n      this.userInfo = userInfo\n\n      // 显示对话框之前, 获取所有角色数据并保存\n      getAllRole()\n        .then(res => {\n          if (res.meta.status !== 200) {\n            return this.$message.error('获取角色失败!')\n          }\n\n          // 保存角色数据\n          this.roleList = res.data\n          this.setRoleDialogVisible = true\n        })\n    },\n    // 分配角色对话框 确认按钮 事件\n    updateRole () {\n      if (!this.selectedRoleId) {\n        return this.$message.error('请选中要分配的角色!')\n      }\n\n      updateRoleByUserId(this.userInfo.id, this.selectedRoleId)\n        .then(res => {\n          if (res.meta.status !== 200) {\n            return this.$message.error('分配角色失败!')\n          }\n\n          this.$message.success('分配角色成功!')\n          this.getUsers2()\n          this.setRoleDialogVisible = false\n        })\n    },\n    // 监听分配角色对话框的关闭事件\n    setRoleHandleClose () {\n      this.selectedRoleId = ''\n      this.userInfo = {}\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=5d0627dc&scoped=true&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d0627dc\",\n  null\n  \n)\n\nexport default component.exports","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('(?<a>b)', 'g');\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","import axios from 'axios'\nimport store from '../store'\n\n// 导入 NProgress 包对应的 JS 和 CSS\nimport NProgress from 'nprogress'\n// 移动到 main-dev.js 中\n// import 'nprogress/nprogress.css'\n\n// 三次优化\nexport function request (config) {\n  // 1. 创建 axios 的实例\n  const instance = axios.create({\n    baseURL: 'https://lianghj.top:8888/api/private/v1',\n    timeout: 5000\n  })\n\n  // 2. axios 的拦截器\n  // 配置请求和响应拦截\n  instance.interceptors.request.use(config => {\n    // 显示进度条\n    NProgress.start()\n\n    // 1. 比如 config 中一些信息不符合服务器的要求\n    // 2. 比如每次发送网络请求时, 都希望在界面中显示一个请求的图标\n    // console.log('来到了 request 拦截 success 中')\n    // 添加请求头的 token 信息\n    config.headers.authorization = store.getters.token\n    return config\n  }, err => {\n    // console.log('来到了 request 拦截 failure 中')\n  })\n\n  // 响应拦截\n  instance.interceptors.response.use(res => {\n    // 隐藏进度条\n    NProgress.done()\n\n    // console.log('来到了 response 拦截 success 中')\n    return res.data\n  }, err => {\n    // console.log('来到了 response 拦截 failure 中')\n  })\n\n  // 3. 发送真正的网络请求\n  return instance(config)\n}\n","'use strict';\n/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\nvar nativeExec = RegExp.prototype.exec;\nvar patchedExec = nativeExec;\nvar charAt = uncurryThis(''.charAt);\nvar indexOf = uncurryThis(''.indexOf);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  call(nativeExec, re1, 'a');\n  call(nativeExec, re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  // eslint-disable-next-line max-statements -- TODO\n  patchedExec = function exec(string) {\n    var re = this;\n    var state = getInternalState(re);\n    var str = toString(string);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = call(patchedExec, raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = call(regexpFlags, re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = replace(flags, 'y', '');\n      if (indexOf(flags, 'g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = stringSlice(str, re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && charAt(str, re.lastIndex - 1) !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = call(nativeExec, sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = stringSlice(match.input, charsAdded);\n        match[0] = stringSlice(match[0], charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      call(nativeReplace, match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nexports.UNSUPPORTED_Y = fails(function () {\n  var re = $RegExp('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = $RegExp('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('.', 's');\n  return !(re.dotAll && re.exec('\\n') && re.flags === 's');\n});\n"],"sourceRoot":""}